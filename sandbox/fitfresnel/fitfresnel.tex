\documentclass[a4paper,titlepage,onecolumn]{report}
% title of the dissertation
\def\distitle{Working Title}
\usepackage{mathtools}
\usepackage{t1enc}
\usepackage[T1]{fontenc}
\usepackage{ulem}
\usepackage{import}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{paralist}
\usepackage{booktabs}
\usepackage[version=3]{mhchem}
\usepackage{wrapfig}
\usepackage{pifont}
\usepackage{mathrsfs}
\usepackage{xcolor}
\usepackage{color}
\usepackage{enumitem}
\usepackage{datetime}
\usepackage{fullpage}
\usepackage{hyperref}
\usepackage{attachfile}
\usepackage{textpos}
\usepackage{rotating}
\usepackage{ifthen}
\usepackage[parfill]{parskip}
\usepackage{minted}


\hypersetup{
 colorlinks=true,
 citecolor=black,
 linkcolor=black,
 pdftitle={\distitle}
}

% New definition of square root:
% it renames \sqrt as \oldsqrt
% This definition puts a little vertical guy at the end so it's more
% obvious where the square root actually ends.
\let\oldsqrt\sqrt
% it defines the new \sqrt in terms of the old one
\def\sqrt{\mathpalette\DHLhksqrt}
\def\DHLhksqrt#1#2{%
\setbox0=\hbox{$#1\oldsqrt{#2\,}$}\dimen0=\ht0
\advance\dimen0-0.2\ht0
\setbox2=\hbox{\vrule height\ht0 depth -\dimen0}%
{\box0\lower0.4pt\box2}}

% integrals with infinity bounds
\newcommand{\intinfty}{\int_{-\infty}^{\infty}}

% consistent formatting of object labels
\newcommand{\Figure}[1]{Figure \ref{#1}}
\newcommand{\Equation}[1]{Equation \ref{#1}}
\newcommand{\Table}[1]{Table \ref{#1}}
\newcommand{\Section}[1]{Section \ref{#1}}
\newcommand{\Chapter}[1]{Chapter \ref{#1}}
\newcommand{\Part}[1]{Part \ref{#1}}
\newcommand{\Appendix}[1]{Appendix \ref{#1}}

% I want all of the document numbering to always show the full path, fuck
% with this later
%\renewcommand\thesection{\Roman{part}.\Alph{chapter}.\arabic{section}}
%\renewcommand\thesubsection{\arabic{section}.\arabic{subsection}}
%\renewcommand\thesubsubsection{\arabic{subsection}.\arabic{subsubsection}}

%\renewcommand\thefigure{S\arabic{figure}}
%\renewcommand\thesection{\Roman{part}.\arabic{chapter}.\arabic{section}}
%\renewcommand\thetable{S\arabic{table}}

% names have a particular formatting
\newcommand{\name}[1]{\textsc{#1}}

% missing mathematical operators
\DeclareMathOperator{\sinc}{sinc}
\DeclareMathOperator{\sech}{sech}
\DeclareMathOperator{\sgn}{sgn}
\DeclareMathOperator{\erf}{erf}
\DeclareMathOperator{\inverf}{inverf}
\DeclareMathOperator{\arcsinh}{arcsinh}
\DeclareMathOperator{\arccosh}{arccosh}
\DeclareMathOperator{\arctanh}{arctanh}
\DeclareMathOperator{\re}{Re}
\DeclareMathOperator{\im}{Im}

% use roman type for natural base e and sqrt(-1)
\newcommand{\me}{{\mathrm{e}}}
\newcommand{\mi}{{\mathrm{i}}}

% roman type for the derivative, plus a space
\newcommand{\md}{\,\mathrm{d}}

% fourier transform and the reverse
\newcommand{\ff}[1]{{\mathscr{F}^{+}\bigl(#1\bigr)}}
\newcommand{\fr}[1]{{\mathscr{F}^{-}\bigl(#1\bigr)}}

% hilbert transform and the reverse
\newcommand{\hf}[1]{{\mathscr{H}^{+}\bigl(#1\bigr)}}
\newcommand{\hr}[1]{{\mathscr{H}^{-}\bigl(#1\bigr)}}

% QCM related frequency and bandwidth shifts
\newcommand{\df}{\Delta\!f}
\newcommand{\dg}{\Delta\Gamma}
\newcommand{\xil}{\xi_\mathrm{L}}
\newcommand{\kl}{k_\mathrm{L}}
\newcommand{\ml}{m_\mathrm{L}}
\newcommand{\kq}{k_\mathrm{q}}
\newcommand{\mq}{m_\mathrm{q}}
\newcommand{\omegaq}{\omega_\mathrm{q}}

% custom lengths for figures

% width for side by side figures
\newlength{\twoupwidth}
\setlength{\twoupwidth}{7.5cm}

% width and height for default single figure
\newlength{\oneupwidth}
\setlength{\oneupwidth}{0.90\textwidth}
\newlength{\oneupheight}
\setlength{\oneupheight}{0.55623059\textwidth}

\usepackage{pgfplots}
\usepackage{pgfplotstable}
\pgfplotsset{compat=newest}
\usepgfplotslibrary{units}
\usepgfplotslibrary{external}
\pgfplotsset{filter discard warning=false}

\usepackage[siunitx]{circuitikz}
\usepackage{tikz}
\usetikzlibrary{calc}
\usetikzlibrary{patterns,decorations.pathmorphing,decorations.markings,positioning}
\usetikzlibrary{pgfplots.units} 
\usetikzlibrary{pgfplots.external} 
\usetikzlibrary{pgfplots.groupplots}
%\tikzexternalize[prefix=external/]% externalize

\definecolor{colora}{RGB}{24,90,169}
\definecolor{colorb}{RGB}{238,46,47}
\definecolor{colorc}{RGB}{0,140,72}
\definecolor{colord}{RGB}{244,125,35}
\definecolor{colore}{RGB}{61,90,153}
\definecolor{colorf}{RGB}{102,44,145}

% my pretty colors
% \import{colors/}{colors}

% siunitx
\usepackage{siunitx}
\DeclareSIUnit\molar{\mole\per\cubic\deci\metre}
\DeclareSIUnit\Molar{\name{M}}

\sisetup{ 
% load-configurations=abbreviations
% round-mode = places,
}%

% set PDF attributes
\pdfpageattr {/Group << /S /Transparency /I true /CS /DeviceRGB>>} 

% prettify chapter/section format
\usepackage{titlesec}
\newcommand{\hsp}{\hspace{20pt}}
\titleformat{\chapter}[hang]{\Huge\bfseries}{\thechapter\hsp\textcolor{gray}{|}\hsp}{0pt}{\Huge\bfseries}

\begin{document}


\begin{figure}
\centering
\pgfplotsset{
 minor tick num=3,
 footnotesize,
 every axis/.style={height=7cm,width=15cm,}
}
\begin{tikzpicture}[baseline]
\begin{axis}[
 x unit = \si{\meter},
 y unit = {a.u.},
 xlabel = wavelength,
 ylabel = reflectivity,
 %scaled x ticks = {real:1e-6},
 max space between ticks=35pt,
]
\addplot [thick,smooth, mark=, color=colora,] table [x index=0, y index=1] {fitfresnel.dat};
\addlegendentry{fit, $d=\SI{1.1568}{\micro\meter}$}
\addplot [only marks, mark=o,color=colorb,] table [x index=0, y index=2] {fitfresnel.dat};
\addlegendentry{raw data}
\end{axis}
\end{tikzpicture}
\caption{Best fit of raw data to the Fresnel three layer system.}
\end{figure}

\end{document}
